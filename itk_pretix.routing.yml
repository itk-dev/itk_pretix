itk_pretix.pretix_config_form:
  path: '/admin/config/itk_pretix/pretixconfig'
  defaults:
    _form: '\Drupal\itk_pretix\Form\PretixConfigForm'
    _title: 'PretixConfigForm'
  requirements:
    _permission: 'access administration pages'
  options:
    _admin_route: TRUE

itk_pretix.pretix_webhook:
  path: '/itk_pretix/pretix/webhook'
  defaults:
    _controller: '\Drupal\itk_pretix\Controller\PretixWebhookController::main'
    _title: 'pretix webhook'
  methods: [POST]
  requirements:
    _permission: 'access content'

itk_pretix.pretix_orders:
  path: '/itk_pretix/pretix/orders/{node}'
  defaults:
    _controller: '\Drupal\itk_pretix\Controller\PretixController::orders'
    _title: 'pretix orders'
  methods: [GET]
  requirements:
    # We have to check permissions in the controller.
    _permission: 'access content'
  options:
    parameters:
      node:
        type: entity:node

itk_pretix.pretix_orders_date:
  path: '/itk_pretix/pretix/orders/{node}/{uuid}'
  defaults:
    _controller: '\Drupal\itk_pretix\Controller\PretixController::ordersDate'
    _title: 'pretix date orders'
  methods: [GET]
  requirements:
    # We have to check permissions in the controller.
    _permission: 'access content'
    _format: 'html|json|csv'
  options:
    parameters:
      node:
        type: entity:node

itk_pretix.pretix_exporters:
  path: '/itk_pretix/pretix/exporters/{node}'
  defaults:
    _controller: '\Drupal\itk_pretix\Controller\PretixExportersController::index'
    _title: 'pretix exporters'
  methods: [GET]
  requirements:
    # We have to check permissions in the controller.
    _permission: 'access content'
  options:
    parameters:
      node:
        type: entity:node

itk_pretix.pretix_exporter_run:
  path: '/itk_pretix/pretix/exporters/{node}/exporter/{identifier}/run'
  methods: [POST]
  defaults:
    _controller: '\Drupal\itk_pretix\Controller\PretixExportersController::runExporter'
    _title: 'pretix start exporter'
  methods: [GET]
  requirements:
    # We have to check permissions in the controller.
    _permission: 'access content'
  options:
    parameters:
      node:
        type: entity:node

itk_pretix.pretix_exporter_show:
  path: '/itk_pretix/pretix/exporters/{node}/exporter/{identifier}/show/{key}'
  defaults:
    _controller: '\Drupal\itk_pretix\Controller\PretixExportersController::showExport'
    _title: 'pretix start exporter'
  methods: [GET]
  requirements:
    # We have to check permissions in the controller.
    _permission: 'access content'
  options:
    parameters:
      node:
        type: entity:node
